"use strict";(self.webpackChunk_morgan_stanley_ComposeUI_gh_pages=self.webpackChunk_morgan_stanley_ComposeUI_gh_pages||[]).push([[780],{7655:function(e,t,n){n.r(t),n.d(t,{Head:function(){return u},default:function(){return m}});var a=n(8453),l=n(6540);function o(e){const t=Object.assign({h2:"h2",a:"a",span:"span",p:"p",em:"em"},(0,a.RP)(),e.components);return l.createElement(l.Fragment,null,"\n",l.createElement(t.h2,{id:"context",style:{position:"relative"}},l.createElement(t.a,{href:"#context","aria-label":"context permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Context"),"\n",l.createElement(t.p,null,"ComposeUI as a framework will provide a set of standard APIs to modules.\nOne of these standard APIs is the pub/sub/invoke functionality of the Message Router.\nModules will communicate and provide services for each other via the Message Router.\nHowever, there might be other framework service APIs that ComposeUI provides, such as login,\nlocal/profile storage, telemetry, etc. These APIs need client libraries for all the\nlanguages and technologies we support, including at minimum JavaScript and .NET.\nSince ComposeUI modules can run in their own process, we have to implement cross-process\ncommunication and build our client libraries around communication protocols like WebSocket and gRPC,\nwith client libraries available for every protocol on every supported platform (we can call these ",l.createElement(t.em,null,"protocol bindings"),").\nEvery built-in API must work using any of these protocols, resulting in a cascade of dependencies and liabilities:\nadding one more API requires us to add a new endpoint to all the protocol bindings on all the platforms;\nadding another protocol binding requires us to add all endpoints on all platforms; and supporting a new platform requires us\nto implement all the protcol bindings and endpoints on that platform."),"\n",l.createElement(t.h2,{id:"decision",style:{position:"relative"}},l.createElement(t.a,{href:"#decision","aria-label":"decision permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Decision"),"\n",l.createElement(t.p,null,"To reduce the overhead of extending the framework with more protocol bindings and APIs, built-in APIs\nwill all go through the Message Router, effectively using it as a general-purpose RPC solution.\nAdding a new API will consist of defining a set of new request/response types.\nAdding a new protocol binding will only require us to implement communication within the Message Router server side and client library implementations.\nSupporting one more platform will require a new client library with at least one protocol binding, each supported protocol having a fixed number of endpoints (those that communicate\nwith the Message Router)."),"\n",l.createElement(t.h2,{id:"consequences",style:{position:"relative"}},l.createElement(t.a,{href:"#consequences","aria-label":"consequences permalink",className:"anchor before"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Consequences"),"\n",l.createElement(t.p,null,"This decision affects the design of our APIs. We will have a message-based architecture\nwhere APIs are defined in terms of request-response pairs instead of service objects.\nWe can still decide to group and encapsulate related services into service objects, but then\nthese service objects should be auto-generated from the message definitions."))}var r=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.RP)(),e.components);return t?l.createElement(t,e,l.createElement(o,e)):o(e)},i=n(392),s=n(2870),c=n(9878);const d=e=>{var t,n;let{children:a,data:o,pageContext:r,location:s}=e;const d=o.allMdx.nodes.filter((e=>!e.internal.contentFilePath.includes("index"))),m=o.mdx.tableOfContents.items,u=r.frontmatter.title,h=r.frontmatter.id,p=r.frontmatter.status,f=r.frontmatter.scope,g=r.frontmatter.deciders,v=new Intl.DateTimeFormat("en-US").format(new Date(r.frontmatter.date)),E=null===(t=o.site)||void 0===t||null===(n=t.siteMetadata)||void 0===n?void 0:n.title;return l.createElement(i.A,{data:o,location:s,menu:r.menu},l.createElement("article",{className:"page-main content"},l.createElement("h3",null,E)),l.createElement("article",{className:"page-main content documentation-main"},l.createElement("nav",{className:"nav documentation-nav"},l.createElement("h4",null,"Architecture"),l.createElement(c.w,{nodes:d,toc:m,location:s})),l.createElement("div",{className:"documentation-content"},l.createElement("header",null,l.createElement("h2",null,u)),l.createElement("dl",null,l.createElement("dt",null,"ADR ID"),l.createElement("dd",null,h),l.createElement("dt",null,"Status"),l.createElement("dd",null,p),l.createElement("dt",null,"Scope"),l.createElement("dd",null,f),l.createElement("dt",null,"Deciders"),l.createElement("dd",null,g),l.createElement("dt",null,"Date"),l.createElement("dd",null,v)),a)))};function m(e){return l.createElement(d,e,l.createElement(r,e))}const u=e=>{let{data:t,pageContext:n}=e;const a=`${n.frontmatter.title} | ${t.site.siteMetadata.title}`;return l.createElement(s.A,{title:a},l.createElement("meta",{name:"description",content:n.description}))}},9878:function(e,t,n){n.d(t,{w:function(){return o}});var a=n(6540),l=n(4794);const o=e=>{let{nodes:t,toc:n,location:o}=e;return a.createElement("ul",null,t.map(((e,t)=>{const r=o.pathname.includes(e.fields.slug),i=e.frontmatter.title;return a.createElement("li",{key:t,className:r?"current":""},a.createElement(l.Link,{to:e.fields.slug},i),r&&a.createElement("nav",{className:"nav documentation-content-nav"},a.createElement("ul",null,n&&n.map(((e,t)=>a.createElement("li",{key:`link-${t}`},a.createElement(l.Link,{to:e.url},e.title)))))))})))}}}]);
//# sourceMappingURL=component---node-modules-morganstanley-gatsby-theme-ms-gh-pages-src-templates-architecture-js-content-file-path-content-architecture-adr-010-built-in-apis-mdx-c25c94e6791008c31013.js.map