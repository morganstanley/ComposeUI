<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Navigation demo</title>
</head>

<body>
    <script>

        let popup;

        function getPopupUrl(content) {
            return "popup.html?" + encodeURIComponent(content);
        }

        function showPopup() {
            const content = document.getElementById("popupContent").value;
            console.log(`Opening new window with content '${content}'`);
            
            if (popup && !popup.closed) {
                popup.location = getPopupUrl(content);
            }
            else {
                popup = window.open(getPopupUrl(content));
            }
        }
    </script>
    <div>
        <form onsubmit="return false">
            <input type="text" id="popupContent" value="ðŸ˜Ž"></input>
            <button onclick="showPopup()">Open popup</button>
        </form>
    </div>
</body>

</html>