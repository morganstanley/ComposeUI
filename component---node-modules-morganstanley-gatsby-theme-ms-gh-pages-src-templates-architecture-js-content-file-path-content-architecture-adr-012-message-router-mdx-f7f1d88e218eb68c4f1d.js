"use strict";(self.webpackChunk_morgan_stanley_ComposeUI_gh_pages=self.webpackChunk_morgan_stanley_ComposeUI_gh_pages||[]).push([[821],{4589:function(e,t,n){n.r(t),n.d(t,{Head:function(){return d},default:function(){return u}});var l=n(8453),a=n(6540);function i(e){const t=Object.assign({h2:"h2",a:"a",span:"span",p:"p",ul:"ul",li:"li"},(0,l.RP)(),e.components);return a.createElement(a.Fragment,null,"\n",a.createElement(t.h2,{id:"context",style:{position:"relative"}},a.createElement(t.a,{href:"#context","aria-label":"context permalink",className:"anchor before"},a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Context"),"\n",a.createElement(t.p,null,"As ",a.createElement(t.a,{href:"adr-004-module-loading.md"},"ADR-004")," states, ComposeUI needs to be as modular as possible.\nThis means any module and functionality should be configurable (",a.createElement(t.a,{href:"adr-002-configuration.md"},"ADR-002"),").\nOne of the core modules of ComposeUI is the messaging module, or the message router. The message router\nshould be responsible for every communication that happens between processes.\nIt should be an independent pluggable module that runs under the main ComposeUI process, delivering\nmessages between processes and optionally other devices."),"\n",a.createElement(t.p,null,"In ",a.createElement(t.a,{href:"adr-005-messaging.md"},"ADR-005")," SignalR was selected for inter-process communication. As development progressed we needed to revisit this decision along the following points:"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"We only need the most basic features of SignalR"),"\n",a.createElement(t.li,null,"We cannot ensure that SignalR is available and supported for all technologies potentially used by users"),"\n",a.createElement(t.li,null,"The benefits of adding a third party dependency like SignalR should outweight the added risk"),"\n"),"\n",a.createElement(t.h2,{id:"decision",style:{position:"relative"}},a.createElement(t.a,{href:"#decision","aria-label":"decision permalink",className:"anchor before"},a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Decision"),"\n",a.createElement(t.p,null,"At the current stage only cross-process messaging is in scope. We need efficient, multi-channel communication between processes with a simple well defined protocol that is easy to connect to using any technologies."),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"We will implement our own lightweight MessageRouter service"),"\n",a.createElement(t.li,null,"The service will use JSON format messages as it is a well-known, efficient format"),"\n",a.createElement(t.li,null,"Clients can connect to the service via WebSockets, as it is generally available and efficient"),"\n",a.createElement(t.li,null,"Clients can subscribe and publish to topics"),"\n",a.createElement(t.li,null,"We will provide client libraries for the MessageRouter for popular frontend technologies (Initially for JavaScript and .NET)"),"\n",a.createElement(t.li,null,"The protocol is well documented and the client is easy to implement with any mainstream technology"),"\n"),"\n",a.createElement(t.h2,{id:"consequences",style:{position:"relative"}},a.createElement(t.a,{href:"#consequences","aria-label":"consequences permalink",className:"anchor before"},a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Consequences"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"Applications that normally consist of multiple processes (e.g. trading applications) won’t have to setup their own\nmessaging infrastructure"),"\n",a.createElement(t.li,null,"The message router comes with a message format that is easily extendable without breaking changes, making it\nflexible to use for clients"),"\n",a.createElement(t.li,null,"It will be an easy to understand and easy to setup module where the client doesn’t have to worry about creating\nWebSocket connections and maintaining them"),"\n",a.createElement(t.li,null,"We will have to maintain the MessageRouter Service and Client"),"\n",a.createElement(t.li,null,"We are not depending on a third party communication library"),"\n",a.createElement(t.li,null,"We will have to revisit requirements for cross-machine communication when it gets into scope"),"\n"))}var r=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.RP)(),e.components);return t?a.createElement(t,e,a.createElement(i,e)):i(e)},o=n(5927),s=n(2870),c=n(9878);const m=e=>{var t,n;let{children:l,data:i,pageContext:r,location:s}=e;const m=i.allMdx.nodes.filter(e=>!e.internal.contentFilePath.includes("index")),u=i.mdx.tableOfContents.items,d=r.frontmatter.title,h=r.frontmatter.id,p=r.frontmatter.status,g=r.frontmatter.scope,f=r.frontmatter.deciders,E=new Intl.DateTimeFormat("en-US").format(new Date(r.frontmatter.date)),v=null===(t=i.site)||void 0===t||null===(n=t.siteMetadata)||void 0===n?void 0:n.title;return a.createElement(o.A,{data:i,location:s,menu:r.menu},a.createElement("article",{className:"page-main content"},a.createElement("h3",null,v)),a.createElement("article",{className:"page-main content documentation-main"},a.createElement("nav",{className:"nav documentation-nav"},a.createElement("h4",null,"Architecture"),a.createElement(c.w,{nodes:m,toc:u,location:s})),a.createElement("div",{className:"documentation-content"},a.createElement("header",null,a.createElement("h2",null,d)),a.createElement("dl",null,a.createElement("dt",null,"ADR ID"),a.createElement("dd",null,h),a.createElement("dt",null,"Status"),a.createElement("dd",null,p),a.createElement("dt",null,"Scope"),a.createElement("dd",null,g),a.createElement("dt",null,"Deciders"),a.createElement("dd",null,f),a.createElement("dt",null,"Date"),a.createElement("dd",null,E)),l)))};function u(e){return a.createElement(m,e,a.createElement(r,e))}const d=e=>{let{data:t,pageContext:n}=e;const l=n.frontmatter.title+" | "+t.site.siteMetadata.title;return a.createElement(s.A,{title:l},a.createElement("meta",{name:"description",content:n.description}))}},9878:function(e,t,n){n.d(t,{w:function(){return i}});var l=n(6540),a=n(4794);const i=e=>{let{nodes:t,toc:n,location:i}=e;return l.createElement("ul",null,t.map((e,t)=>{const r=i.pathname.includes(e.fields.slug),o=e.frontmatter.title;return l.createElement("li",{key:t,className:r?"current":""},l.createElement(a.Link,{to:e.fields.slug},o),r&&l.createElement("nav",{className:"nav documentation-content-nav"},l.createElement("ul",null,n&&n.map((e,t)=>l.createElement("li",{key:"link-"+t},l.createElement(a.Link,{to:e.url},e.title))))))}))}}}]);
//# sourceMappingURL=component---node-modules-morganstanley-gatsby-theme-ms-gh-pages-src-templates-architecture-js-content-file-path-content-architecture-adr-012-message-router-mdx-f7f1d88e218eb68c4f1d.js.map